<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Eric's Notes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/assets/stylesheets/main.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
<header>
    <h1 class="center"><a href="/">Weise-ipedia</a></h1>
    <hr>
</header>
<h1 id="programming-in-python">Programming in Python</h1>
<h2 id="calling-c-inside-python">Calling C inside Python</h2>
<ol start="0" type="1">
<li>Create the C code, <code>CODE.c</code>, and the header, <code>CODE.h</code>, files</li>
<li>Compile C code. This can be done two ways:
<ul>
<li><p>Compile <code>.o</code> then compile the shared object, <code>.so</code>, file:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">gcc</span> -c -fPIC CODE_FILE.c -o CODE_FILE.o <span class="kw">&amp;&amp;</span> <span class="kw">\</span>
<span class="fu">gcc</span> CODE_FILE.o -shared -o SHARED_OBJECT.so</code></pre></div></li>
<li><p>Compile only the shared object, <code>.so</code>, file:</p>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash"><span class="fu">gcc</span> -shared -o SHARED_OBJECT.so -fPIC CODE_FILE.c</code></pre></div></li>
</ul></li>
<li><p>Import <code>ctypes</code> in python:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python"><span class="im">from</span> ctypes <span class="im">import</span> <span class="op">*</span></code></pre></div></li>
<li><p>Import the C function from the shared object file:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">C_FUNCTIONS <span class="op">=</span> CDLL(<span class="st">&#39;./SHARED_OBJECT.so&#39;</span>)</code></pre></div></li>
<li><p>Calling functions within python:</p>
<div class="sourceCode"><pre class="sourceCode python"><code class="sourceCode python">C_FUNCTIONS.functionName(arg1, arg2, ...)</code></pre></div></li>
</ol>
<div class="center">
    <hr>
    <p><b>Notes on Computers</b></p>
    <p>
             <a href="/aws">AWS</a>
    &middot; <a href="/bash">Bash</a>
    &middot; <a href="/c-lang">C</a>
    &middot; <a href="/cpp-lang">C++</a>
    &middot; <a href="/cybersecurity">Cyber Security</a>
    &middot; <a href="/devices">Devices</a>
    &middot; <a href="/git">Git</a>
    &middot; <a href="/latex">LaTeX</a>
    &middot; <a href="/linux">Linux</a>
    &middot; <a href="/networking">Networking</a>
    &middot; <a href="/python">Python</a>
    &middot; <a href="/raspberry-pi">Raspberry Pi</a>
    &middot; <a href="/vim">Vim</a>
    </p>
    <p><b>Notes on Math &amp; Physics</b></p>
    <p>
             <a href="/information-theory">Information Theory</a>
    &middot; <a href="/linear-algebra">Linear Algebra</a>
    &middot; <a href="/solid-state-physics">Solid State Physics</a>
    </p>
    <hr>
    <p>Copyright 2020 &middot; <a href="https://ericdweise.com">Eric D. Weise</a></p>
</div>
</body>
</html>
